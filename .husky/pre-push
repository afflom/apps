
echo "Running essential checks for push..."
npm run typecheck && npm run lint && npm run format:check && npx vitest run src/simple.test.ts src/utils/dom.test.ts

echo ""
echo "Building app for GitHub Pages deployment validation..."
npm run build

if [ $? -ne 0 ]; then
  echo "ERROR: Build failed. Fix build issues before pushing."
  exit 1
fi

# This will be triggered automatically when pushed to GitHub
# The GitHub Action workflow ensures deploy to dev environment runs before production
echo "Build successful. Proceeding with push..."
echo "GitHub Actions will handle deployment to appropriate environments."
